<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/layout1}">
<th:block layout:fragment="css">
    <style></style>
</th:block>

<div layout:fragment="content">
    <form th:action="@{'/car/list'}" method="get" th:object="${cars}">
    <section class="hero-wrap hero-wrap-2 js-fullheight" style="background-image: url('/images/bg_3.jpg');" data-stellar-background-ratio="0.5">
        <div class="overlay"></div>
        <div class="container">
            <div class="row no-gutters slider-text js-fullheight align-items-end justify-content-start">
                <div class="col-md-9 ftco-animate pb-5">
                    <h1 class="mb-3 bread">자동차 목록</h1>
                </div>
            </div>
        </div>
    </section>


    <section class="ftco-section bg-light">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <th:block th:each="car, status: ${cars.getContent()}">
                        <div class="text">
                             <h2 class="mb-0"><a th:href="'/car/' + ${car.id}">
                                 <img th:src="${car.imgUrl}" th:alt="${car.carNm}"  class="img rounded d-flex align-items-end"/>
                                     </a></h2>
                                     <div class="d-flex mb-3">
                                         <a class="cat" th:href="'/car/' + ${car.id}">[[${car.carNm}]]</a>
                                            <p class="price ml-auto">[[${car.price}]] 원 <span>/시간당</span></p>
                                     </div>


                            <div style="margin-bottom:20px;">
                                <button type="submit" class="btn btn-primary py-2 ml-1" th:href="'/car/' + ${car.id}">예약하기</button>
                                <a th:href="'/car/' + ${car.id}" class="btn btn-secondary py-2 ml-1">상세 페이지</a></p>
                            </div>
                         </div>
                    </th:block>
                </div>
            </div>
            </div>
    </section>

        <div class="row mt-5">
            <div class="col text-center">
                <div class="block-27">
                    <ul>
                        <li th:classappend="${cars.first}?'disabled'"><a th:href="@{'/cars/' + ${cars.number - 1}}">&lt;</a></li>
                        <li
                                th:each="page: ${#numbers.sequence(start, end)}"
                                th:classappend="${cars.number eq page-1}?'active':''">
                            <a class="page-link" th:inline="text"
                               th:href="@{'/cars/' + ${page - 1}}">[[${page}]]</a>
                        </li>
                        <li th:classappend="${cars.last}?'disabled'">
                            <a th:href="@{'/cars/' + ${cars.number + 1}}">></a>
                        </li>
                    </ul>
                </div>
            </div>
    </div>

    </form>
</div>
<th:block layout:fragment="script">
    <script th:inline="javascript"></script>
</th:block>
</html>